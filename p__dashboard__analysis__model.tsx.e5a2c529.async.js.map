{"version":3,"sources":["src/pages/dashboard/analysis/service.tsx","src/pages/dashboard/analysis/model.tsx"],"names":["_request","_interopRequireDefault","__webpack_require__","fakeChartData","_callee","_regenerator","default","wrap","_context","prev","next","abrupt","stop","_service","initState","visitData","visitData2","salesData","searchData","offlineData","offlineChartData","salesTypeData","salesTypeDataOnline","salesTypeDataOffline","radarData","Model","namespace","state","effects","fetch","mark","_","_ref","call","put","response","sent","type","payload","fetchSalesData","_ref2","_context2","reducers","save","_ref3","_objectSpread2","clear"],"mappings":"sNAAAA,EAAAC,EAAAC,EAAA,kBAEsBC,sFAAf,SAAAC,IAAA,OAAAC,EAAAC,QAAAC,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAG,OAAA,UACE,EAAAX,EAAAM,SAAQ,yBADV,wBAAAE,EAAAI,SAAAR,sLCEPS,EAAAX,EAAA,QAoBMY,GACJC,aACAC,cACAC,aACAC,cACAC,eACAC,oBACAC,iBACAC,uBACAC,wBACAC,cAGIC,GACJC,UAAW,oBAEXC,MAAOb,EAEPc,SACGC,MADMxB,EAAAC,QAAAwB,KAAA,SAAAD,EACAE,EADAC,GAAA,IAAAC,EAAAC,EAAAC,EAAA,OAAA9B,EAAAC,QAAAC,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OADPuB,EADLD,EACKC,KAAMC,EADXF,EACWE,IADX1B,EAAAE,KAAA,EAEkBuB,EAAKpB,EAAAV,eAFvB,OAGL,OADMgC,EAFD3B,EAAA4B,KAAA5B,EAAAE,KAAA,EAGCwB,GACJG,KAAM,OACNC,QAASH,IALN,wBAAA3B,EAAAI,SAAAiB,KAQNU,eARMlC,EAAAC,QAAAwB,KAAA,SAAAS,EAQSR,EARTS,GAAA,IAAAP,EAAAC,EAAAC,EAAA,OAAA9B,EAAAC,QAAAC,KAAA,SAAAkC,GAAA,eAAAA,EAAAhC,KAAAgC,EAAA/B,MAAA,OASY,OADEuB,EARdO,EAQcP,KAAMC,EARpBM,EAQoBN,IARpBO,EAAA/B,KAAA,EASkBuB,EAAKpB,EAAAV,eATvB,OAUL,OADMgC,EATDM,EAAAL,KAAAK,EAAA/B,KAAA,EAUCwB,GACJG,KAAM,OACNC,SACErB,UAAWkB,EAASlB,aAbnB,wBAAAwB,EAAA7B,SAAA2B,MAmBTG,UACEC,KADQ,SACHhB,EADGiB,GACe,IAATN,EAASM,EAATN,QACZ,SAAAO,EAAAvC,YACKqB,EACAW,IAGPQ,MAPQ,WAQN,OAAOhC,OAKEW","file":"p__dashboard__analysis__model.tsx.e5a2c529.async.js","sourcesContent":["import request from '@/utils/request';\n\nexport async function fakeChartData() {\n  return request('/api/fake_chart_data');\n}\n","import { AnyAction, Reducer } from 'redux';\n\nimport { EffectsCommandMap } from 'dva';\nimport { AnalysisData } from './data.d';\nimport { fakeChartData } from './service';\n\nexport type Effect = (\n  action: AnyAction,\n  effects: EffectsCommandMap & { select: <T>(func: (state: AnalysisData) => T) => T },\n) => void;\n\nexport interface ModelType {\n  namespace: string;\n  state: AnalysisData;\n  effects: {\n    fetch: Effect;\n    fetchSalesData: Effect;\n  };\n  reducers: {\n    save: Reducer<AnalysisData>;\n    clear: Reducer<AnalysisData>;\n  };\n}\n\nconst initState = {\n  visitData: [],\n  visitData2: [],\n  salesData: [],\n  searchData: [],\n  offlineData: [],\n  offlineChartData: [],\n  salesTypeData: [],\n  salesTypeDataOnline: [],\n  salesTypeDataOffline: [],\n  radarData: [],\n};\n\nconst Model: ModelType = {\n  namespace: 'dashboardAnalysis',\n\n  state: initState,\n\n  effects: {\n    *fetch(_, { call, put }) {\n      const response = yield call(fakeChartData);\n      yield put({\n        type: 'save',\n        payload: response,\n      });\n    },\n    *fetchSalesData(_, { call, put }) {\n      const response = yield call(fakeChartData);\n      yield put({\n        type: 'save',\n        payload: {\n          salesData: response.salesData,\n        },\n      });\n    },\n  },\n\n  reducers: {\n    save(state, { payload }) {\n      return {\n        ...state,\n        ...payload,\n      };\n    },\n    clear() {\n      return initState;\n    },\n  },\n};\n\nexport default Model;\n"],"sourceRoot":""}