{"version":3,"sources":["src/pages/list/card-list/service.ts","src/pages/list/card-list/model.ts"],"names":["_request","_interopRequireDefault","__webpack_require__","queryFakeList","_callee","params","_regenerator","default","wrap","_context","prev","next","abrupt","stop","_service","Model","namespace","state","list","effects","fetch","mark","_ref","_ref2","payload","call","put","response","sent","type","Array","isArray","reducers","queryList","action","_objectSpread2"],"mappings":"yNAAAA,EAAAC,EAAAC,EAAA,kBAEsBC,uFAAf,SAAAC,EAA6BC,GAA7B,OAAAC,EAAAC,QAAAC,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,cAAAF,EAAAG,OAAA,UACE,EAAAZ,EAAAO,SAAQ,kBACbF,YAFG,wBAAAI,EAAAI,SAAAT,sLCEPU,EAAAZ,EAAA,QAsBMa,GACJC,UAAW,eAEXC,OACEC,SAGFC,SACGC,MADMd,EAAAC,QAAAc,KAAA,SAAAD,EAAAE,EAAAC,GAAA,IAAAC,EAAAC,EAAAC,EAAAC,EAAA,OAAArB,EAAAC,QAAAC,KAAA,SAAAC,GAAA,eAAAA,EAAAC,KAAAD,EAAAE,MAAA,OAEY,OADVa,EADFF,EACEE,QAAaC,EADfF,EACeE,KAAMC,EADrBH,EACqBG,IADrBjB,EAAAE,KAAA,EAEkBc,EAAKX,EAAAX,cAAeqB,GAFtC,OAGL,OADMG,EAFDlB,EAAAmB,KAAAnB,EAAAE,KAAA,EAGCe,GACJG,KAAM,YACNL,QAASM,MAAMC,QAAQJ,GAAYA,OALhC,wBAAAlB,EAAAI,SAAAO,MAUTY,UACEC,UADQ,SACEhB,EAAOiB,GACf,SAAAC,EAAA5B,YACKU,GACHC,KAAMgB,EAAOV,eAMNT","file":"p__list__card-list__model.ts.e4414c87.async.js","sourcesContent":["import request from '@/utils/request';\n\nexport async function queryFakeList(params: { count: number }) {\n  return request('/api/fake_list', {\n    params,\n  });\n}\n","import { AnyAction, Reducer } from 'redux';\n\nimport { EffectsCommandMap } from 'dva';\nimport { CardListItemDataType } from './data.d';\nimport { queryFakeList } from './service';\n\nexport interface StateType {\n  list: CardListItemDataType[];\n}\n\nexport type Effect = (\n  action: AnyAction,\n  effects: EffectsCommandMap & { select: <T>(func: (state: StateType) => T) => T },\n) => void;\n\nexport interface ModelType {\n  namespace: string;\n  state: StateType;\n  effects: {\n    fetch: Effect;\n  };\n  reducers: {\n    queryList: Reducer<StateType>;\n  };\n}\n\nconst Model: ModelType = {\n  namespace: 'listCardList',\n\n  state: {\n    list: [],\n  },\n\n  effects: {\n    *fetch({ payload }, { call, put }) {\n      const response = yield call(queryFakeList, payload);\n      yield put({\n        type: 'queryList',\n        payload: Array.isArray(response) ? response : [],\n      });\n    },\n  },\n\n  reducers: {\n    queryList(state, action) {\n      return {\n        ...state,\n        list: action.payload,\n      };\n    },\n  },\n};\n\nexport default Model;\n"],"sourceRoot":""}